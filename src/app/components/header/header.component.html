<div class="header-outer">
  <div class="header-toolbar">
    <!-- Left section -->
    <div class="left-section">
      <a routerLink="/" class="logo-container">
        <img *ngIf="currentTheme === 'light'" src="xregistry-logo.svg" alt="xRegistry Explorer" class="logo title-logo">
        <img *ngIf="currentTheme === 'dark'" src="xregistry-logo-dark.svg" alt="xRegistry Explorer" class="logo title-logo">
      </a>
      <div class="search-container">
        <app-search></app-search>
      </div>
    </div>

    <!-- Right section -->
    <div class="right-section">
      <!-- API Settings -->
      <div class="control-group">
        <fluent-button
          appearance="subtle"
          (click)="navigateToConfig()"
          aria-label="API Settings">
          <fluent-icon name="settings"></fluent-icon>
        </fluent-button>
      </div>

      <!-- Font/Layout Size Selector -->
      <div class="control-group">
        <fluent-menu-button
          [open]="fontMenuOpen"
          (toggle)="fontMenuOpen = !fontMenuOpen"
          aria-label="Font Size">
          <fluent-icon slot="button" [name]="getFontSizeIcon()"></fluent-icon>
          <fluent-menu slot="menu">
            <fluent-menu-item
              (click)="setFontSize('small'); fontMenuOpen = false"
              [class.active]="currentFontSize === 'small'">
              <fluent-icon name="font_decrease"></fluent-icon>
              <span>Small</span>
            </fluent-menu-item>
            <fluent-menu-item
              (click)="setFontSize('medium'); fontMenuOpen = false"
              [class.active]="currentFontSize === 'medium'">
              <fluent-icon name="font_size"></fluent-icon>
              <span>Medium</span>
            </fluent-menu-item>
            <fluent-menu-item
              (click)="setFontSize('large'); fontMenuOpen = false"
              [class.active]="currentFontSize === 'large'">
              <fluent-icon name="font_increase"></fluent-icon>
              <span>Large</span>
            </fluent-menu-item>
          </fluent-menu>
        </fluent-menu-button>
      </div>

      <!-- Dark/Light Mode Selector -->
      <div class="control-group">
        <fluent-button
          appearance="subtle"
          (click)="toggleTheme()"
          aria-label="Toggle Theme">
          <fluent-icon [name]="currentTheme === 'light' ? 'weather_moon' : 'weather_sunny'"></fluent-icon>
        </fluent-button>
      </div>
    </div>
  </div>

  <!-- Integrated Breadcrumb -->
  <div class="breadcrumb-container">
    <app-breadcrumb></app-breadcrumb>
  </div>
</div>
