<div class="header-outer">
  <div class="header-toolbar">
    <!-- Left section -->
    <div class="left-section">
      <a routerLink="/" class="logo-container">
        <img *ngIf="currentTheme === 'light'" src="xregistry-logo.svg" alt="xRegistry Explorer" class="logo title-logo">
        <img *ngIf="currentTheme === 'dark'" src="xregistry-logo-dark.svg" alt="xRegistry Explorer" class="logo title-logo">
      </a>
      <div class="search-container">
        <app-search></app-search>
      </div>
    </div>

    <!-- Right section -->
    <div class="right-section">
      <!-- API Settings -->
      <div class="control-group">
        <fluent-button
          appearance="subtle"
          (click)="navigateToConfig()"
          aria-label="API Settings">
          <app-icon name="settings"></app-icon>
        </fluent-button>
      </div>

      <!-- Font/Layout Size Selector -->
      <div class="control-group">
        <div class="font-size-dropdown">
          <fluent-button
            appearance="subtle"
            (click)="fontMenuOpen = !fontMenuOpen"
            aria-label="Font Size">
            <app-icon [name]="getFontSizeIcon()"></app-icon>
          </fluent-button>
          <div *ngIf="fontMenuOpen" class="font-size-menu">
            <div
              class="font-menu-item"
              [class.active]="currentFontSize === 'small'"
              (click)="setFontSize('small'); fontMenuOpen = false">
              <app-icon name="font_decrease"></app-icon>
              <span>Small</span>
            </div>
            <div
              class="font-menu-item"
              [class.active]="currentFontSize === 'medium'"
              (click)="setFontSize('medium'); fontMenuOpen = false">
              <app-icon name="font_size"></app-icon>
              <span>Medium</span>
            </div>
            <div
              class="font-menu-item"
              [class.active]="currentFontSize === 'large'"
              (click)="setFontSize('large'); fontMenuOpen = false">
              <app-icon name="font_increase"></app-icon>
              <span>Large</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Dark/Light Mode Selector -->
      <div class="control-group">
        <fluent-button
          appearance="subtle"
          (click)="toggleTheme()"
          aria-label="Toggle Theme">
          <app-icon [name]="currentTheme === 'light' ? 'weather_moon' : 'weather_sunny'"></app-icon>
        </fluent-button>
      </div>
    </div>
  </div>

  <!-- Integrated Breadcrumb -->
  <div class="breadcrumb-container">
    <app-breadcrumb></app-breadcrumb>
  </div>
</div>
