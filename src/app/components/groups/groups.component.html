<div class="groups">
  <h2>Registry Groups</h2>
  <div *ngIf="groups$ | async as groups">
    <div class="grid-container">
      <div *ngFor="let group of groups" class="grid-item">
        <h3>{{ group['name'] || group['id'] }}</h3>
        <div class="attribute" *ngIf="group['description']">
          <strong>Description:</strong>
          <span>{{ group['description'] }}</span>
        </div>
        <div class="attribute" *ngIf="group['labels']">
          <strong>Labels:</strong>
          <div *ngFor="let label of objectKeys(group['labels'])" class="label-item">
            <span>{{ label }}: {{ group['labels'][label] }}</span>
          </div>
        </div>

        <!-- Resource Types Section -->
        <div *ngIf="resourceTypes$ | async as rts" class="resource-types">
          <h4>Resource Types:</h4>
          <ul class="resource-list">
            <li *ngFor="let rt of rts">
              <a [routerLink]="[group['id'], rt]" class="resource-link">{{ rt }}</a>
              <span *ngIf="group[rt + 'count'] !== undefined" class="resource-count"> ({{ group[rt + 'count'] }})</span>
            </li>
          </ul>
        </div>

        <div style="margin-top: auto;">
          <a [routerLink]="[group['id']]" class="tile">
            View Group
          </a>
          <footer class="tile-footer">
            <small>
              <span>Created: {{ group['createdAt'] | date:'short' }}</span>&nbsp;|
              <span>Modified: {{ group['modifiedAt'] | date:'short' }}</span>
            </small>
          </footer>
        </div>
      </div>
    </div>
  </div>
</div>
